<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ajukan Pinjaman - KTP</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="apply-body">
    <div class="apply-page">
      <header class="apply-topbar">
        <button class="icon-button apply-icon" id="backButton" aria-label="Kembali">
          ‚Üê
        </button>
        <h1>Ajukan Pinjaman</h1>
        <button class="icon-button apply-icon" id="helpButton" aria-label="Bantuan">
          üí¨
        </button>
      </header>

      <div class="apply-stepper">
        <div class="step active">
          <span class="step-circle">1</span>
          <span class="step-label">KTP</span>
        </div>
        <div class="step">
          <span class="step-circle">2</span>
          <span class="step-label">Personal</span>
        </div>
        <div class="step">
          <span class="step-circle">3</span>
          <span class="step-label">Alamat</span>
        </div>
        <div class="step">
          <span class="step-circle">4</span>
          <span class="step-label">...</span>
        </div>
      </div>

      <main class="apply-content">
        <section class="form-section">
          <h2 class="form-title">Lengkapi informasi KTPmu dengan benar.</h2>
        </section>

        <section class="form-section">
          <h3 class="section-title">Identitas Dasar</h3>
          <div class="form-field">
            <label for="fullName">Nama Lengkap</label>
            <input
              id="fullName"
              type="text"
              class="form-input"
              value="Tania"
              required
            />
          </div>

          <div class="form-field">
            <span class="field-label">Jenis Kelamin</span>
            <div class="radio-row">
              <label class="radio-option">
                <input type="radio" name="gender" value="Laki-laki" />
                <span>Laki-laki</span>
              </label>
              <label class="radio-option">
                <input type="radio" name="gender" value="Perempuan" checked />
                <span>Perempuan</span>
              </label>
            </div>
          </div>

          <div class="form-field">
            <label for="religion">Agama</label>
            <div class="select-wrapper">
              <select id="religion" class="form-input" required>
                <option value="">Pilih agama</option>
                <option value="Islam" selected>Islam</option>
                <option value="Kristen">Kristen</option>
                <option value="Katolik">Katolik</option>
                <option value="Hindu">Hindu</option>
                <option value="Buddha">Buddha</option>
                <option value="Konghucu">Konghucu</option>
              </select>
            </div>
          </div>
        </section>

        <section class="form-section">
          <h3 class="section-title">Status Pernikahan</h3>
          <div class="radio-grid">
            <label class="radio-option">
              <input type="radio" name="marital" value="Menikah" />
              <span>Menikah</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="marital" value="Cerai" />
              <span>Cerai</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="marital" value="Belum Menikah" checked />
              <span>Belum Menikah</span>
            </label>
          </div>
        </section>

        <section class="form-section">
          <h3 class="section-title">Tempat &amp; Tanggal Lahir</h3>
          <p class="helper-text">
            Isi tempat dan tanggal lahir sesuai yang tertera di KTP-mu.
          </p>
          <div class="radio-row">
            <label class="radio-option">
              <input type="radio" name="birthType" value="Indonesia" checked />
              <span>Indonesia</span>
            </label>
            <label class="radio-option">
              <input type="radio" name="birthType" value="Luar Negeri" />
              <span>Luar Negeri</span>
            </label>
          </div>
          <div class="form-field">
            <label for="birthProvince">Provinsi</label>
            <div class="select-wrapper">
              <select id="birthProvince" class="form-input" required>
                <option value="">Pilih provinsi</option>
                <option value="masked" selected>************</option>
              </select>
            </div>
          </div>
          <div class="form-field">
            <label for="birthCity">Kota/Kabupaten</label>
            <div class="select-wrapper">
              <select id="birthCity" class="form-input" required>
                <option value="">Pilih kota/kabupaten</option>
                <option value="masked" selected>************</option>
              </select>
            </div>
          </div>
          <div class="form-field">
            <label for="birthDate">Tanggal Lahir</label>
            <div class="input-icon">
              <input
                id="birthDate"
                type="text"
                class="form-input"
                placeholder="DD/MM/YYYY"
                value="************"
                required
              />
              <span class="icon-suffix">üìÖ</span>
            </div>
          </div>
        </section>

        <section class="form-section">
          <h3 class="section-title">Alamat KTP</h3>
          <p class="helper-text">Isi alamat sesuai yang tertera di KTP-mu.</p>
          <div class="form-field">
            <label for="ktpProvince">Provinsi</label>
            <div class="select-wrapper">
              <select id="ktpProvince" class="form-input" required>
                <option value="">Pilih provinsi</option>
                <option value="DKI JAKARTA" selected>DKI JAKARTA</option>
              </select>
            </div>
          </div>
          <div class="form-field">
            <label for="ktpCity">Kabupaten/Kota</label>
            <div class="select-wrapper">
              <select id="ktpCity" class="form-input" required>
                <option value="">Pilih kabupaten/kota</option>
                <option value="KOTA ADM. JAKARTA PUSAT" selected>
                  KOTA ADM. JAKARTA PUSAT
                </option>
              </select>
            </div>
          </div>
          <div class="form-field">
            <label for="ktpDistrict">Kecamatan</label>
            <div class="select-wrapper">
              <select id="ktpDistrict" class="form-input" required>
                <option value="">Pilih kecamatan</option>
                <option value="CEMPAKA PUTIH" selected>CEMPAKA PUTIH</option>
              </select>
            </div>
          </div>
          <div class="form-field">
            <label for="ktpSubdistrict">Kelurahan</label>
            <div class="select-wrapper">
              <select id="ktpSubdistrict" class="form-input" required>
                <option value="">Pilih kelurahan</option>
                <option value="RAWASARI" selected>RAWASARI</option>
              </select>
            </div>
          </div>
          <div class="form-field">
            <label for="ktpAddress">Alamat</label>
            <textarea id="ktpAddress" class="form-input" rows="3" required>
Jalan Akik yaman</textarea
            >
          </div>
          <div class="form-field">
            <label>Blok, Nomor, RT, RW</label>
            <div class="inline-grid">
              <input class="form-input" type="number" value="0" required />
              <input class="form-input" type="number" value="0" required />
              <input class="form-input" type="number" value="12" required />
              <input class="form-input" type="number" value="43" required />
            </div>
            <p class="helper-text">
              Jika alamat tidak memiliki Blok, Nomor, RT atau RW isi dengan angka
              0.
            </p>
          </div>
        </section>
      </main>

      <footer class="apply-footer">
        <button class="cta-button apply-cta" id="continueButton" disabled>
          Lanjutkan
        </button>
      </footer>
    </div>
    <script>
      const backButton = document.getElementById("backButton");
      const helpButton = document.getElementById("helpButton");
      const continueButton = document.getElementById("continueButton");
      const requiredFields = Array.from(
        document.querySelectorAll(
          "#fullName, #religion, #birthProvince, #birthCity, #birthDate, #ktpProvince, #ktpCity, #ktpDistrict, #ktpSubdistrict, #ktpAddress"
        )
      );

      const validateForm = () => {
        const hasGender = document.querySelector('input[name="gender"]:checked');
        const hasMarital = document.querySelector('input[name="marital"]:checked');
        const hasBirthType = document.querySelector(
          'input[name="birthType"]:checked'
        );
        const allFilled = requiredFields.every((field) => field.value.trim());
        continueButton.disabled = !(hasGender && hasMarital && hasBirthType && allFilled);
      };

      requiredFields.forEach((field) => field.addEventListener("input", validateForm));
      document
        .querySelectorAll('input[type="radio"]')
        .forEach((radio) => radio.addEventListener("change", validateForm));

      backButton.addEventListener("click", () => {
        if (history.length > 1) {
          history.back();
        } else {
          window.location.href = "index.html";
        }
      });

      helpButton.addEventListener("click", () => {
        alert("Bantuan akan segera hadir.");
      });

      continueButton.addEventListener("click", () => {
        if (continueButton.disabled) {
          return;
        }
        continueButton.disabled = true;
        continueButton.textContent = "Memproses...";
        setTimeout(() => {
          window.location.href = "apply-personaldata.html";
        }, 600);
      });

      validateForm();
    </script>
  </body>
</html>
